"use strict";(self["webpackChunkaauevora"]=self["webpackChunkaauevora"]||[]).push([[297],{8464:function(e,a,n){n.d(a,{Z:function(){return u}});var t=n(6252),i=n(3577);const s={class:"button"},l=["href"];function o(e,a,n,o,r,m){return(0,t.wg)(),(0,t.iD)("button",s,[(0,t.Uk)((0,i.zw)(n.buttonText)+" ",1),(0,t.WI)(e.$slots,"default",{},void 0,!0),n.link?((0,t.wg)(),(0,t.iD)("a",{key:0,href:n.link,rel:"noreferrer nooppener",target:"_blank"},null,8,l)):(0,t.kq)("",!0)])}var r={name:"Button",props:{buttonText:String,link:String}},m=n(3744);const c=(0,m.Z)(r,[["render",o],["__scopeId","data-v-5bd2d029"]]);var u=c},1435:function(e,a,n){n.r(a),n.d(a,{default:function(){return C}});var t=n(6252),i=n(9963),s=n(3577),l=n(7691);const o=e=>((0,t.dD)("data-v-17f7f3d9"),e=e(),(0,t.Cn)(),e),r={class:"denuncias"},m={key:0,class:"contactForm"},c=o((()=>(0,t._)("div",{class:"contactInfo"},[(0,t._)("h2",null," Tens algo a denunciar? "),(0,t._)("p",null,[(0,t.Uk)(" Não te preocupes, porque não estás sozinh@. Estamos aqui para te ajudar. "),(0,t._)("br"),(0,t.Uk)(" Toda a informação que nos for transmitida será mantida em anonimato! "),(0,t._)("br"),(0,t.Uk)(" Não fiques em silêncio, contacta-nos!")]),(0,t._)("div",{class:"contactIcons"},[(0,t._)("ul",null,[(0,t._)("a",{href:"mailto:gape@aaue.pt"},[(0,t._)("i",{class:"fas fa-envelope","aria-hidden":"true"},[(0,t._)("span",null,"Email")]),(0,t._)("li",null,"gape@aaue.pt")])])])],-1))),u=o((()=>(0,t._)("label",{for:"Contacto"},[(0,t.Uk)("Nome / Contacto "),(0,t._)("span",null,"(Não é obrigatório)")],-1))),d=o((()=>(0,t._)("label",{for:"mensagem"},[(0,t.Uk)("Mensagem "),(0,t._)("span",null,"*")],-1))),p={key:1,class:"modal"},g={key:0,src:l,alt:""},f={key:1,class:"sucess"},h=o((()=>(0,t._)("h1",null,"Mensagem enviada",-1))),k=o((()=>(0,t._)("i",{class:"far fa-check-circle sucessIcon"},null,-1))),v={key:2,class:"failure"},_=o((()=>(0,t._)("h1",null,"Ocorreu um erro",-1))),b=o((()=>(0,t._)("i",{class:"fas fa-exclamation-circle errorIcon"},null,-1))),F=o((()=>(0,t._)("p",null," Por favor volte a tentar mais tarde ou envie uma mensagem para gape@aaue.pt ",-1)));function y(e,a,n,l,o,y){const S=(0,t.up)("Button");return(0,t.wg)(),(0,t.iD)("section",r,[o.sendingEmail?((0,t.wg)(),(0,t.iD)("div",p,[o.emailSent||o.emailFailed?o.emailSent?((0,t.wg)(),(0,t.iD)("div",f,[h,k,(0,t.Wm)(S,{buttonText:"Voltar",onClick:y.resetEmailSendingValues},null,8,["onClick"])])):o.emailFailed?((0,t.wg)(),(0,t.iD)("div",v,[_,b,F,(0,t.Wm)(S,{buttonText:"Voltar",onClick:y.resetEmailSendingValues},null,8,["onClick"])])):(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("img",g))])):((0,t.wg)(),(0,t.iD)("div",m,[c,(0,t._)("form",{action:"POST",onSubmit:a[2]||(a[2]=(0,i.iM)(((...e)=>y.sendFormData&&y.sendFormData(...e)),["prevent"]))},[u,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Nome",id:"name","onUpdate:modelValue":a[0]||(a[0]=e=>l.name=e)},null,512),[[i.nr,l.name]]),d,(0,t.wy)((0,t._)("textarea",{class:"mensagem",placeholder:"Mensagem",id:"mensagem","onUpdate:modelValue":a[1]||(a[1]=e=>l.mensagem=e),required:""},null,512),[[i.nr,l.mensagem]]),(0,t._)("div",{class:(0,s.C_)(["buttons",{isActive:l.isFormFilled}])},[(0,t.Wm)(S,{buttonText:"Enviar mensagem",class:"g-recaptcha","data-sitekey":"6LcQvp4cAAAAAGNx5TXt5zWBQ1lHd_mhHyit-Plq","data-callback":"onSubmit","data-action":"submit"})],2)],32)]))])}var S=n(2262),w=n(8464),D={name:"Denuncias",data(){return{emailSent:!1,emailFailed:!1,sendingEmail:!1,name:"",email:"",mensagem:"",isFormFilled:!1}},setup(){let e=(0,S.iH)(""),a=(0,S.iH)(""),n=(0,S.iH)(""),i=(0,S.iH)(!1);return(0,t.YP)([e,a],(()=>{a.value?i.value=!0:i.value=!1})),{isFormFilled:i,name:e,email:n,mensagem:a}},components:{Button:w.Z},methods:{async sendFormData(){if(!this.isFormFilled)return;this.sendingEmail=!0;const e={sendTo:"denuncias@aaue.pt",subject:"Denúncias",message:{origem:"AAUE.pt",name:this.name?this.name:"Anónimo",email:"Anónimo",text:this.mensagem}},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};await fetch("https://blogposting-api.herokuapp.com/api/sendEmail",a).then((async e=>{e.ok&&(this.emailSent=!0,this.clearFormInfo())})).catch((e=>{this.emailFailed=!0,console.log(e.message)}))},clearFormInfo(){this.name="",this.mensagem=""},resetEmailSendingValues(){this.sendingEmail=!1,this.emailSent=!1,this.emailFailed=!1}}},E=n(3744);const T=(0,E.Z)(D,[["render",y],["__scopeId","data-v-17f7f3d9"]]);var C=T}}]);
//# sourceMappingURL=Denuncias.d59bbe02.js.map